getwd
getwd()
install.packages('here')
install.packages('here',dependencies = T)
library(here)
gapminder <- read.csv(here::here("data/gapminder5.csv"), stringsAsFactors=FALSE)
gapminder <- read.csv(here::here("data/gapminder5.csv"), stringsAsFactors=FALSE)
View(gapminder)
str(gapminder)
gapminder$country = as.factor(gapminder$country)
gapminder$continent = as.factor(gapminder$continent)
str(gapminder) #we need to convert some variables to factors
str(gapminder)
gapminder <- read.csv(here::here("data/gapminder5.csv"), stringsAsFactors=FALSE)
str(gapminder) #we need to convert some variables to factors
gapminder$country = as.factor(gapminder$country)
gapminder$continent = as.factor(gapminder$continent)
str(gapminder)
str(gapminder)
gapminder <- read.csv(here::here("data/gapminder5.csv"), stringsAsFactors=FALSE)
str(gapminder) #we need to convert some variables to factors
?any
unique(gapminder$country)
unique(gapminder$country) %>% length()
library(dyplyr)
library(dplyr)
unique(gapminder$country) %>% length()
nrows(gapminder)
?nrows
??nrows
for (i in 1:nrow(gapminder))
1:nrow(gapminder)
for (i in 1:nrow(gapminder)){
gapminder[i,'log_gdpPercap'] = log(gapminder[i,'gdoPercap'])
}
1:nrow(gapminder)
for (i in 1:nrow(gapminder)){
gapminder[i,'log_gdpPercap'] = log(gapminder[i,'gdoPercap'])
}
i = 1
log(gapminder[i,'gdoPercap'])
log(gapminder[i,'gdpPercap'])
for (i in 1:nrow(gapminder)){
gapminder[i,'log_gdpPercap'] = log(gapminder[i,'gdpPercap'])
}
for (i in 1:nrow(gapminder)){
gapminder[i,'log_gdpPercap'] = log(gapminder[i,'gdpPercap'])
gapminder[i,'log_pop'] = log(gapminder[i,'pop'])
}
for (continent in unique(gapminder$continent)){
mean_le = mean(gapminder$lifeExp[gapminder$continent == countinent],na.rm = T)
paste0(continent, ":",mean_le)
}
for (continent in unique(gapminder$continent)){
mean_le = mean(gapminder$lifeExp[gapminder$continent == continent],na.rm = T)
paste0(continent, ":",mean_le)
}
paste0(continent, ":",mean_le) %>% print()
for (continent in unique(gapminder$continent)){
mean_le = mean(gapminder$lifeExp[gapminder$continent == continent],na.rm = T)
paste0(continent, ":",mean_le) %>% print()
}
for (continent in unique(gapminder$continent)){
mean_le = mean(gapminder$lifeExp[gapminder$continent == continent],na.rm = T)
print(paste0(continent, ":",mean_le))
}
for (i in conts) {
print(paste0("Continent: ", i))
for (j in years) {
mean_le <- mean(gapminder$lifeExp[gapminder$continent == i &
gapminder$year == j],
na.rm = T)
print(paste0(j, ": ", mean_le))
}
}
for (i in unique(gapminder$continent)) {
print(paste0("Continent: ", i))
for (j in years) {
mean_le <- mean(gapminder$lifeExp[gapminder$continent == i &
gapminder$year == j],
na.rm = T)
print(paste0(j, ": ", mean_le))
}
}
for (i in unique(gapminder$continent)) {
print(paste0("Continent: ", i))
for (j in unique(gapminder$year)) {
mean_le <- mean(gapminder$lifeExp[gapminder$continent == i &
gapminder$year == j],
na.rm = T)
print(paste0(j, ": ", mean_le))
}
}
#3.
for (i in unique(gapminder$continent)) {
print(paste0("Continent: ", i))
for (j in unique(gapminder$year)) {
mean_le <- mean(gapminder$lifeExp[gapminder$continent == i &
gapminder$year == j],
na.rm = T)
print(paste0('   ', j, ": ", mean_le))
}
}
#3.
for (i in unique(gapminder$continent)) {
print(paste0("Continent: ", i))
for (j in unique(gapminder$year)) {
mean_le <- mean(gapminder$lifeExp[gapminder$continent == i &
gapminder$year == j],
na.rm = T)
print(paste0('      ', j, ": ", mean_le))
}
}
for (i in unique(gapminder$continent)) {
print(paste0("Continent: ", i))
for (j in unique(gapminder$year)) {
sd_le <- sd(gapminder$lifeExp[gapminder$continent == i & gapminder$year == j], na.rm = T)
print(paste0('      ', j, ": ", sd_le))
}
}
?apply()
apply
#5.
sapply(years, function(x) mean(gapminder$lifeExp[gapminder$year == x]))
#5.
sapply(years, function(x), mean(gapminder$lifeExp[gapminder$year == x]))
i <-  1952 # define the interator
while (i < 1987) {
sd_le <- sd(gapminder$lifeExp[gapminder$year == i])
print(paste0(i, ": ", sd_le)
)
i <- i + 5 # increase the iterator by the interval between years
}
ini = 1987
while (ini < 2002){
sd_le = sd(gapminder$lifeExp[gapminder$year == ini])
print(paste0(ini, ": ", sd_le))
ini = ini+1
}
ini = 1987
while (ini < 2002){
sd_le = sd(gapminder$lifeExp[gapminder$year == ini],na.rm = T)
print(paste0(ini, ": ", sd_le))
ini = ini+1
}
ini = 1987
while (ini <= 2002){
sd_le = sd(gapminder$lifeExp[gapminder$year == ini],na.rm = T)
print(paste0(ini, ": ", sd_le))
ini = ini+1
}
ini = 1987
while (ini <= 2002){
sd_le = sd(gapminder$lifeExp[gapminder$year == ini], na.rm = T)
print(paste0(ini, ": ", sd_le))
ini = ini+1
}
i <-  1952 # define the interator
while (i < 1987) {
sd_le <- sd(gapminder$lifeExp[gapminder$year == i],na.rm = T)
print(paste0(i, ": ", sd_le))
i <- i + 5 # increase the iterator by the interval between years
}
ini = 1987
while (ini <= 2002){
sd_le = sd(gapminder$lifeExp[gapminder$year == ini], na.rm = T)
print(paste0(ini, ": ", sd_le))
ini = ini+1
}
unique(gapminder$year)
years = unique(gapminder$year)
for (i in years) {
if (i >= 1987) {
mean_pop <- mean(gapminder$lifeExp[gapminder$year == i])
print(paste0(i, ": ", mean_pop))
} else {
print("Sorry, year is less than 1987")
}
}
for (i in years) {
if (i >= 1987) {
mean_pop <- mean(gapminder$lifeExp[gapminder$year == i])
print(paste0(i, ": ", mean_pop))
} else {
print("Sorry, year",i ,"is less than 1987")
}
}
print(paste("Sorry, year",i ,"is less than 1987"))
for (i in years) {
if (i >= 1987) {
mean_pop <- mean(gapminder$lifeExp[gapminder$year == i])
print(paste0(i, ": ", mean_pop))
} else {
print(paste("Sorry, year",i ,"is less than 1987"))
}
}
for (i in years) {
if (i >= 1987) {
mean_pop <- mean(gapminder$lifeExp[gapminder$year == i])
print(paste0(i, ": ", mean_pop))
} else {
print(paste("Sorry", i ,"is less than 1987"))
}
}
report_mean_sd <-
function(df, variable, country) {
var <- df[[variable]][df$country == country]
m_le <- mean(var)
sd_le <- sd(var)
cat("Country:", country,
"\nMean Life Expectancy:", m_le,
"\nSD Life Expectancy:", sd_le)
}
report_mean_sd(gapminder, "lifeExp", "Bulgaria")
gapminder[['lifeExp']]
gapminder$lifeExp
report_mean_sd <-
function(df, variable, country) {
var <- df[[variable]][df$country == country]
m_le <- mean(var)
sd_le <- sd(var)
cat("Country:", country,
"\nMean Life Expectancy:", m_le,
"\nSD Life Expectancy:", sd_le)
}
report_mean_sd(gapminder, "lifeExp", "Bulgaria")
report_stats <-
function(df, variable, country) {
var <- df[[variable]][df$country == country] #df[,variableName] is the same as df[[variable]]
meam_le <- mean(var)
median_le = median(var)
min_le = min(var)
max_le = max(var)
cat("Country:", country,
"\nMean Life Expectancy:", meam_le,
"\nMedian Life Expectancy:", median_le,
"\nMin Life Expectancy:", min_le,
"\nMax Life Expectancy:", max_le,)
}
report_stats(gapminder, "lifeExp", "Bulgaria")
report_stats <-
function(df, variable, continent) {
var <- df[[variable]][df$continent == continent] #df[,variableName] is the same as df[[variable]]
meam_le <- mean(var)
median_le = median(var)
min_le = min(var)
max_le = max(var)
cat("Continent:", continent,
"\nMean Life Expectancy:", meam_le,
"\nMedian Life Expectancy:", median_le,
"\nMin Life Expectancy:", min_le,
"\nMax Life Expectancy:", max_le,)
}
report_stats(gapminder, "lifeExp", "Asia")
report_stats <-
function(df, variable, continent) {
var <- df[[variable]][df$continent == continent] #df[,variableName] is the same as df[[variable]]
meam_le <- mean(var)
median_le = median(var)
min_le = min(var)
max_le = max(var)
cat("Continent:", continent,
"\nMean Life Expectancy:", meam_le,
"\nMedian Life Expectancy:", median_le,
"\nMin Life Expectancy:", min_le,
"\nMax Life Expectancy:", max_le)
}
report_stats(gapminder, "lifeExp", "Asia")
report_stats <-
function(df, variable, continent) {
var <- df[[variable]][df$continent == continent] #df[,variableName] is the same as df[[variable]]
meam_le <- mean(var)
median_le = median(var)
min_le = min(var)
max_le = max(var)
cat("Continent:", continent,
"\nMean Life Expectancy:", meam_le,
"\nMedian Life Expectancy:", median_le,
"\nMin Life Expectancy:", min_le,
"\nMax Life Expectancy:", max_le)
}
report_stats(gapminder, "lifeExp", "Europe")
report_stats(gapminder, "lifeExp", "Asia")
knitr::opts_chunk$set(echo = TRUE)
dat <- read.csv("data/gapminder5.csv")
dat <- read.csv("/data/gapminder5.csv")
getwd
getwd()
dat <- read.csv("/Users/siqili/Desktop/bootcamp-2019/data/gapminder5.csv")
sum(gapminder$year==2002)
if (sum(gapminder$year==2002)>0){
print('There is more than one records from 2002 in the gapminder dataset.')
} else{
print('No record from 2002 was found in the gapminder dataset.')
}
if (sum(gapminder$year==2012)>0){
print('There is more than one records from 2012 in the gapminder dataset.')
} else{
print('No record from 2012 was found in the gapminder dataset.')
}
unique(gapminder$country)
for (country in unique(gapminder$country)){
if (mean(gapminder$lifeExp[gapminder$country==country]) < mean(gapminder$lifeExp)){
print(paste(country,'has a mean life expectancy that is less than overall mean for the dataset: ',
mean(gapminder$lifeExp[gapminder$country==country])))
}
}
for (country in unique(gapminder$country)){
if (mean(gapminder$lifeExp[gapminder$country==country]) < mean(gapminder$lifeExp)){
print(paste(country,'(',mean(gapminder$lifeExp[gapminder$country==country]),
')has a mean life expectancy that is less than overall mean for the dataset: ',
))
}
}
for (country in unique(gapminder$country)){
if (mean(gapminder$lifeExp[gapminder$country==country]) < mean(gapminder$lifeExp)){
print(paste(country,'has a mean life expectancy that is less than overall mean for the dataset: ',
mean(gapminder$lifeExp[gapminder$country==country])))
}
}
for (country in unique(gapminder$country)){
if (mean(gapminder$pop[gapminder$country==country]) < mean(gapminder$pop)){
print(paste('Mean life expectancy in',country, 'is',
mean(gapminder$lifeExp[gapminder$country==country])))
}
}
for (country in unique(gapminder$country)){
if (mean(gapminder$pop[gapminder$country==country]) > mean(gapminder$pop)){
print(paste('Mean life expectancy in',country, 'is',
mean(gapminder$lifeExp[gapminder$country==country])))
}
}
for (countinent in unique(gapminder$continent)){
if (mean(gapminder$lifeExp[gapminder$continent==countinent]) < 50){
print('Mean Life Expectancy in',countinent ,'is less than 50')
} else if (mean(gapminder$lifeExp[gapminder$continent==countinent]) > 70){
print('Mean Life Expectancy in',countinent ,'is greater than 70')
} else{
print('Mean Life Expectancy in',countinent ,'is between 50 and 70')
}
}
for (countinent in unique(gapminder$continent)){
if (mean(gapminder$lifeExp[gapminder$continent==countinent]) < 50){
print(paste('Mean Life Expectancy in',countinent ,'is less than 50'))
} else if (mean(gapminder$lifeExp[gapminder$continent==countinent]) > 70){
print(paste('Mean Life Expectancy in',countinent ,'is greater than 70'))
} else{
print(paste('Mean Life Expectancy in',countinent ,'is between 50 and 70'))
}
}
df = gapminder
print(colnames(df))
class(df)
class(df[,1])
df = gapminder
report_colname_class =
function(df) {
for (col in 1:ncol(df)) {
print(paste('column name is',colnames(df)[col],'with data type:',class(df[,col])))
}
}
report_colname_class(gapminder)
df = gapminder
report_colname_class =
function(df) {
for (col in 1:ncol(df)) {
print(paste('column name is',colnames(df)[col],'; data type:',class(df[,col])))
}
}
report_colname_class(gapminder)
df = gapminder
report_colname_class =
function(df) {
for (col in 1:ncol(df)) {
print(paste(colnames(df)[col],'; data type:',class(df[,col])))
}
}
report_colname_class(gapminder)
df = gapminder
report_colname_class =
function(df) {
for (col in 1:ncol(df)) {
print(paste('Data type of column',colnames(df)[col], 'is', class(df[,col])))
}
}
report_colname_class(gapminder)
df = gapminder
report_colname_class =
function(df) {
for (col in 1:ncol(df)) {
print(paste('Data type of column',colnames(df)[col], 'is:', class(df[,col])))
}
}
report_colname_class(gapminder)
x=nrom(5)
x=1:10
vector_stats_printer(x)
vector_stats_printer =
function(x) {
cat(
"Mean value:", mean(x,na.rm = T),
"\nMedian value:", median(x,na.rm = T),
"\nStandard Deviation:", sd(x,na.rm = T)
)
}
vector_stats_printer(x)
vector_stats_printer =
function(x) {
if (length(x)>0){
cat(
"Mean value:", mean(x,na.rm = T),
"\nMedian value:", median(x,na.rm = T),
"\nStandard Deviation:", sd(x,na.rm = T)
)
} else{
print('Error: Empty Vector')
}
}
x=1:10
vector_stats_printer(x)
x=NA
vector_stats_printer(x)
length(x)
is.na(x)
vector_stats_printer =
function(x) {
if (!is.na(x)){
cat(
"Mean value:", mean(x,na.rm = T),
"\nMedian value:", median(x,na.rm = T),
"\nStandard Deviation:", sd(x,na.rm = T)
)
} else{
print('Error: Empty Vector')
}
}
x=NA
vector_stats_printer(x)
x=1:20
vector_stats_printer(x)
vector_stats_printer =
function(x) {
if (!is.na(x)){
cat(
"Mean value:", mean(x,na.rm = T),
"\nMedian value:", median(x,na.rm = T),
"\nStandard Deviation:", sd(x,na.rm = T)
)
} else{
print('Error: Empty Vector')
}
}
x=1:20
vector_stats_printer(x)
!is.na(x)
vector_stats_printer =
function(x,include_median = FALSE) {
if (include_median){
cat(
"Mean value:", mean(x,na.rm = T),
"\nStandard Deviation:", sd(x,na.rm = T),
"\nMedian value:", median(x,na.rm = T)
)
} else{
cat(
"Mean value:", mean(x,na.rm = T),
"\nStandard Deviation:", sd(x,na.rm = T)
)
}
}
vector_stats_printer(x,T)
vector_stats_printer(x,F)
vector_stats_printer =
function(x,include_median = FALSE) {
cat(
"Mean value:", mean(x,na.rm = T),
"\nStandard Deviation:", sd(x,na.rm = T)
)
if (include_median){
cat("Median value:", median(x,na.rm = T)
)
}
}
vector_stats_printer(1:30,F)
vector_stats_printer(1:30,T)
vector_stats_printer =
function(x,include_median = FALSE) {
cat(
"Mean value:", mean(x,na.rm = T),
"\nStandard Deviation:", sd(x,na.rm = T)
)
if (include_median){
cat("\nMedian value:", median(x,na.rm = T)
)
}
}
vector_stats_printer(1:30,T)
plot(x=log(gapminder$gdpPercap),y=log(gapminder$lifeExp))
unique(gapminder$continent)
unique(gapminder$year)
for (year in unique(gapminder$year)){
plot(x=log(gapminder$gdpPercap[gapminder$year=year]),y=log(gapminder$lifeExp[gapminder$year=year]))
for (year in unique(gapminder$year)){
plot(x=log(gapminder$gdpPercap[gapminder$year==year]),y=log(gapminder$lifeExp[gapminder$year==year]))
}
for (countinent in unique(gapminder$continent)){
plot(x=log(gapminder$gdpPercap[gapminder$continent==continent]),y=log(gapminder$lifeExp[gapminder$continent==continent]))
}
for (continent in unique(gapminder$continent)){
plot(x=log(gapminder$gdpPercap[gapminder$continent==continent]),
y=log(gapminder$lifeExp[gapminder$continent==continent]))
}
